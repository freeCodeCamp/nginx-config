if (-f /etc/nginx/maintenance/ROOT.txt) {
  return 503;
}

location ~* ^/(signin|login|signup|deprecated-signin|email-signin)$ {
  return 302 https://api.freecodecamp.xyz/signin;
}

location /passwordless-change {
  return 302 https://api.freecodecamp.xyz/confirm-email;
}

location /logout {
  return 302 https://api.freecodecamp.xyz/signout;
}

location /internal {
  rewrite ^/internal/(.*)$ https://api.freecodecamp.xyz/internal/$1;
}

location ^~ /u/ {
  rewrite ^/u/(.*)$ https://api.freecodecamp.xyz/u/$1;
}

location ^~ /ue/ {
  rewrite ^/ue/(.*)$ https://api.freecodecamp.xyz/ue/$1;
}

location ^~ /unsubscribe/ {
  rewrite ^/unsubscribe/(.*)$ https://api.freecodecamp.xyz/unsubscribe/$1;
}
